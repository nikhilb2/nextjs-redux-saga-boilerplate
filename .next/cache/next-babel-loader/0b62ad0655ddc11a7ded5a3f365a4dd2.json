{"ast":null,"code":"import { actions } from \"./constants\";\nconst initialState = {\n  user: null,\n  signinin: false,\n  signinError: null,\n  sessionRestored: false,\n  authorized: false\n};\n\nconst authReducer = (state = initialState, action) => {\n  var _session;\n\n  switch (action.type) {\n    case actions.LOGOUT_DONE:\n      return Object.assign({}, state, {\n        authorized: false,\n        user: null\n      });\n\n    case actions.SIGNIN:\n      return Object.assign({}, state, {\n        sigininin: true,\n        signinError: null\n      });\n\n    case actions.SIGNIN_SUCCESS:\n      return Object.assign({}, state, {\n        sigininin: false,\n        user: action.user\n      });\n\n    case actions.SIGNIN_FAILED:\n      return Object.assign({}, state, {\n        sigininin: false,\n        signinError: action.error\n      });\n\n    case actions.RESTORE_SESSION_SUCCESS:\n      return Object.assign({}, state, {\n        user: (_session = action.session) === null || _session === void 0 ? void 0 : _session.user,\n        sessionRestored: true\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;","map":{"version":3,"sources":["/Users/nikhilbhatia/Documents/projects/nextRedux/redux/auth/reducer.ts"],"names":["actions","initialState","user","signinin","signinError","sessionRestored","authorized","authReducer","state","action","type","LOGOUT_DONE","Object","assign","SIGNIN","sigininin","SIGNIN_SUCCESS","SIGNIN_FAILED","error","RESTORE_SESSION_SUCCESS","session"],"mappings":"AAAA,SAASA,OAAT,QAAoH,aAApH;AAEA,MAAMC,YAAuB,GAAG;AAC5BC,EAAAA,IAAI,EAAE,IADsB;AAE5BC,EAAAA,QAAQ,EAAE,KAFkB;AAG5BC,EAAAA,WAAW,EAAE,IAHe;AAI5BC,EAAAA,eAAe,EAAE,KAJW;AAK5BC,EAAAA,UAAU,EAAE;AALgB,CAAhC;;AASA,MAAMC,WAAW,GAAG,CAChBC,KAAK,GAAGP,YADQ,EAEhBQ,MAFgB,KAGF;AAAA;;AACd,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKV,OAAO,CAACW,WAAb;AACF,aAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BF,QAAAA,UAAU,EAAE,KADkB;AAE9BJ,QAAAA,IAAI,EAAE;AAFwB,OAAzB,CAAP;;AAIE,SAAKF,OAAO,CAACc,MAAb;AACI,aAAOF,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BO,QAAAA,SAAS,EAAE,IADmB;AAE9BX,QAAAA,WAAW,EAAE;AAFiB,OAAzB,CAAP;;AAIF,SAAKJ,OAAO,CAACgB,cAAb;AACE,aAAOJ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BO,QAAAA,SAAS,EAAE,KADmB;AAE9Bb,QAAAA,IAAI,EAAGO,MAAD,CAAgCP;AAFR,OAAzB,CAAP;;AAIF,SAAKF,OAAO,CAACiB,aAAb;AACE,aAAOL,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BO,QAAAA,SAAS,EAAE,KADmB;AAE9BX,QAAAA,WAAW,EAAGK,MAAD,CAAyBS;AAFR,OAAzB,CAAP;;AAIA,SAAKlB,OAAO,CAACmB,uBAAb;AACI,aAAOP,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BN,QAAAA,IAAI,cAAGO,MAAD,CAAwCW,OAA1C,6CAAE,SAAiDlB,IADzB;AAE9BG,QAAAA,eAAe,EAAE;AAFa,OAAzB,CAAP;;AAKJ;AACA,aAAOG,KAAP;AA5BR;AA8BD,CAlCH;;AAmCE,eAAeD,WAAf","sourcesContent":["import { actions, AuthActionTypes, AuthState, FailedAction, RestoreSessionSuccessAction, SignInSuccessAction } from \"./constants\";\n\nconst initialState: AuthState = {\n    user: null,\n    signinin: false,\n    signinError: null,\n    sessionRestored: false,\n    authorized: false\n }\n\n\nconst authReducer = (\n    state = initialState,\n    action: AuthActionTypes\n  ): AuthState => {\n    switch (action.type) {\n        case actions.LOGOUT_DONE:\n      return Object.assign({}, state, {\n        authorized: false,\n        user: null\n      })\n        case actions.SIGNIN:\n            return Object.assign({}, state, {\n              sigininin: true,\n              signinError: null,\n            })\n          case actions.SIGNIN_SUCCESS:\n            return Object.assign({}, state, {\n              sigininin: false,\n              user: (action as SignInSuccessAction).user,\n            })\n          case actions.SIGNIN_FAILED:\n            return Object.assign({}, state, {\n              sigininin: false,\n              signinError: (action as FailedAction).error,\n            })\n            case actions.RESTORE_SESSION_SUCCESS:\n                return Object.assign({}, state, {\n                  user: (action as RestoreSessionSuccessAction).session?.user,\n                  sessionRestored: true,\n                })\n          \n            default: \n            return state\n    }\n  }\n  export default authReducer\n"]},"metadata":{},"sourceType":"module"}